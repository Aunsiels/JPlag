

## Opening Reports

The report viewer can be started over the Jar, by specifying a view mode. This is done over the `--mode`/`-M` flag:
|Value|Effect|
|---|---|
| run_and_view (default) | Runs JPlag on the given files with the given options. After Running it opens the report viewer. The report viewer will then automatically load the result. |
| view | Opens the report viewer. When providing a result zip file from a previous JPlag run - either in a way a source directory would be given or through the `-r` flag. If no file is given the landing page will be opened. |
| run | Runs JPlag without opening the report viewer. |

### Landing Page
On the landing page a report can be opened by either dragging the zip file onto the page. Alternatively when clicking the red square a file chooser will open.

Reports can fetched from a server by appending `?file=URL`. Example: `jplag.github.io/JPlag?file=domain.tld/my-report.zip` 

### Reports from older versions
With increasing versions the report may change and the report viewer may not be able to read a report from an earlier version. 
When trying to open such a report, the report viewer will redirect you to an older version of the report viewer.
This older report viewer may not support all the newest features of JPlag.
This feature is only when starting the report viewer through the jar.

## Running Locally

### Setup
The application requires Node.js and npm to be installed on the system.
```
npm install
```

### Run the development server
```
npm run dev
```

### Compile and build
There are different ways to build the report-viewer.

The report viewer will be built and packaged with the cli in a jar file if built with the `with-report-viewer` profile:
```
mvn -Pwith-report-viewer clean package assembly:single
```

To build it in the standard way, without any base url, run:
```
npm run build
```

For production builds (for example to host on GitHub Pages in a repository called `JPlag`) run:
```
npm run build-prod
```
When hosting this build it will need to be accessible under `yourdomain.tld/JPlag/`.


To build the demo version run:
```
npm run build-demo
```
Similar to the production build, this build will have `demo` as its base url.

## Views


## Contributing

We're happy to incorporate all improvements to JPlag into this codebase. Feel free to fork the project and send pull requests. Please consider [our guidelines for contributions](https://github.com/jplag/JPlag/wiki/3.-Contributing-to-JPlag).

Before committing please run the following commands to ensure that the code is properly formatted and linted.
```
npm run format
npm run lint
```
This can also be done automatically by the precommit hooks. They get automatically installed when running `npm install`.